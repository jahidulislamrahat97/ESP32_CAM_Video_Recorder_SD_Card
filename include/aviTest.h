#ifndef __AVITEST_H__
#define __AVITEST_H__

#include <stdio.h>

#define AVIOFFSET 240  // AVI main header length

struct frameSizeStruct {
  uint8_t frameWidth[2];
  uint8_t frameHeight[2];
};

static const frameSizeStruct frameSizeData[] = {
  { { 0x60, 0x00 }, { 0x60, 0x00 } },  // FRAMESIZE_96X96,    // 96x96
  { { 0xA0, 0x00 }, { 0x78, 0x00 } },  // FRAMESIZE_QQVGA,    // 160x120
  { { 0xB0, 0x00 }, { 0x90, 0x00 } },  // FRAMESIZE_QCIF,     // 176x144
  { { 0xF0, 0x00 }, { 0xB0, 0x00 } },  // FRAMESIZE_HQVGA,    // 240x176
  { { 0xF0, 0x00 }, { 0xF0, 0x00 } },  // FRAMESIZE_240X240,  // 240x240
  { { 0x40, 0x01 }, { 0xF0, 0x00 } },  // FRAMESIZE_QVGA,     // 320x240   framessize
  { { 0x90, 0x01 }, { 0x28, 0x01 } },  // FRAMESIZE_CIF,      // 400x296       bytes per buffer required in psram - quality must be higher number (lower quality) than config quality
  { { 0xE0, 0x01 }, { 0x40, 0x01 } },  // FRAMESIZE_HVGA,     // 480x320       low qual  med qual  high quality
  { { 0x80, 0x02 }, { 0xE0, 0x01 } },  // FRAMESIZE_VGA,      // 640x480   8   11+   ##  6-10  ##  0-5         indoor(56,COUNT=3)  (56,COUNT=2)          (56,count=1)
  //               38,400    61,440    153,600
  { { 0x20, 0x03 }, { 0x58, 0x02 } },  // FRAMESIZE_SVGA,     // 800x600   9                       240,000
  { { 0x00, 0x04 }, { 0x00, 0x03 } },  // FRAMESIZE_XGA,      // 1024x768  10
  { { 0x00, 0x05 }, { 0xD0, 0x02 } },  // FRAMESIZE_HD,       // 1280x720  11  115,200   184,320   460,800     (11)50.000  25.4fps   (11)50.000 12fps    (11)50,000  12.7fps
  { { 0x00, 0x05 }, { 0x00, 0x04 } },  // FRAMESIZE_SXGA,     // 1280x1024 12
  { { 0x40, 0x06 }, { 0xB0, 0x04 } },  // FRAMESIZE_UXGA,     // 1600x1200 13  240,000   384,000   960,000
  // 3MP Sensors
  { { 0x80, 0x07 }, { 0x38, 0x04 } },  // FRAMESIZE_FHD,      // 1920x1080 14  259,200   414,720   1,036,800   (11)210,000 5.91fps
  { { 0xD0, 0x02 }, { 0x00, 0x05 } },  // FRAMESIZE_P_HD,     //  720x1280 15
  { { 0x60, 0x03 }, { 0x00, 0x06 } },  // FRAMESIZE_P_3MP,    //  864x1536 16
  { { 0x00, 0x08 }, { 0x00, 0x06 } },  // FRAMESIZE_QXGA,     // 2048x1536 17  393,216   629,146   1,572,864
  // 5MP Sensors
  { { 0x00, 0x0A }, { 0xA0, 0x05 } },  // FRAMESIZE_QHD,      // 2560x1440 18  460,800   737,280   1,843,200   (11)400,000 3.5fps    (11)330,000 1.95fps
  { { 0x00, 0x0A }, { 0x40, 0x06 } },  // FRAMESIZE_WQXGA,    // 2560x1600 19
  { { 0x38, 0x04 }, { 0x80, 0x07 } },  // FRAMESIZE_P_FHD,    // 1080x1920 20
  { { 0x00, 0x0A }, { 0x80, 0x07 } }   // FRAMESIZE_QSXGA,    // 2560x1920 21  614,400   983,040   2,457,600   (15)425,000 3.25fps   (15)382,000 1.7fps  (15)385,000 1.7fps

};

const int avi_header[AVIOFFSET] PROGMEM = {
  0x52, 0x49, 0x46, 0x46, 0xD8, 0x01, 0x0E, 0x00, 0x41, 0x56, 0x49, 0x20, 0x4C, 0x49, 0x53, 0x54,
  0xD0, 0x00, 0x00, 0x00, 0x68, 0x64, 0x72, 0x6C, 0x61, 0x76, 0x69, 0x68, 0x38, 0x00, 0x00, 0x00,
  0xA0, 0x86, 0x01, 0x00, 0x80, 0x66, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00,
  0x64, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x80, 0x02, 0x00, 0x00, 0xe0, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x4C, 0x49, 0x53, 0x54, 0x84, 0x00, 0x00, 0x00,
  0x73, 0x74, 0x72, 0x6C, 0x73, 0x74, 0x72, 0x68, 0x30, 0x00, 0x00, 0x00, 0x76, 0x69, 0x64, 0x73,
  0x4D, 0x4A, 0x50, 0x47, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x01, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0A, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x73, 0x74, 0x72, 0x66,
  0x28, 0x00, 0x00, 0x00, 0x28, 0x00, 0x00, 0x00, 0x80, 0x02, 0x00, 0x00, 0xe0, 0x01, 0x00, 0x00,
  0x01, 0x00, 0x18, 0x00, 0x4D, 0x4A, 0x50, 0x47, 0x00, 0x84, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x49, 0x4E, 0x46, 0x4F,
  0x10, 0x00, 0x00, 0x00, 0x6A, 0x61, 0x6D, 0x65, 0x73, 0x7A, 0x61, 0x68, 0x61, 0x72, 0x79, 0x20,
  0x76, 0x39, 0x39, 0x20, 0x4C, 0x49, 0x53, 0x54, 0x00, 0x01, 0x0E, 0x00, 0x6D, 0x6F, 0x76, 0x69,
};




typedef struct AVI_Frame_t
{
  int avi_length;
  unsigned long avi_start_time;
  unsigned long avi_end_time;
  int speed_up_factor;

} AVI_Frame_t;




#endif